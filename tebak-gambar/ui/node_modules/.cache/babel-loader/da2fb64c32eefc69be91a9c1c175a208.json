{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\Study\\\\Coding\\\\node-js\\\\tebak-gambar\\\\ui\\\\src\\\\pages\\\\Lobby.jsx\";\nimport React from 'react';\nimport niceware from 'niceware';\nimport './style.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Container from '../components/container/Container';\nimport io from 'socket.io-client';\n\nclass Lobby extends React.Component {\n  // socket = io.connect(\"https://realtime-interactive-board.herokuapp.com/\", {secure: true});\n  constructor(props) {\n    super(props);\n    this.socket = io.connect(\"http://localhost:3333/\", {\n      secure: true\n    });\n    this.state = {\n      displayname: '',\n      room: '',\n      showNew: true\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.socket.on('connect', () => {});\n  }\n\n  static getSocket() {\n    return this.socket;\n  }\n\n  handleChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const key = target.name;\n    this.setState({\n      [key]: value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let roomID = this.state.room;\n    let name = this.state.displayname;\n\n    if (!roomID) {\n      roomID = niceware.generatePassphrase(4).join('-');\n    }\n\n    if (!name) {\n      name = niceware.generatePassphrase(2).join('-');\n    }\n\n    this.setState({\n      room: roomID,\n      displayname: name,\n      showNew: false\n    }, () => this.socket.emit(\"join-room\", {\n      username: this.state.displayname,\n      roomName: this.state.room\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"parent\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"map\",\n        children: [this.state.showNew ? /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"controls\",\n          className: \"card card-body d-flew flex-col align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Create / Join a Room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-prepend\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"input-group-text\",\n                children: \"Display Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"displayname\",\n              type: \"text\",\n              className: \"form-control\",\n              value: this.state.displayname,\n              onChange: this.handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-group mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"input-group-prepend\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"input-group-text\",\n                children: \"Room ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"room\",\n              type: \"text\",\n              className: \"form-control\",\n              value: this.state.room,\n              onChange: this.handleChange,\n              placeholder: \"Leave empty to create room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex flex-row\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: this.handleSubmit,\n              type: \"button\",\n              className: \"btn btn-primary btn-lg mx-2\",\n              children: \"Create / Join Room\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"roomInfo\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"input-group-text\",\n            children: [\"Room ID: \", this.state.room]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(Container, {\n          ref: ref => this.container = ref,\n          socket: this.socket\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Lobby;","map":{"version":3,"sources":["D:/Study/Coding/node-js/tebak-gambar/ui/src/pages/Lobby.jsx"],"names":["React","niceware","Container","io","Lobby","Component","constructor","props","socket","connect","secure","state","displayname","room","showNew","handleChange","bind","handleSubmit","on","getSocket","event","target","value","type","checked","key","name","setState","preventDefault","roomID","generatePassphrase","join","emit","username","roomName","render","ref","container"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport niceware from 'niceware';\r\nimport './style.css';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport Container from '../components/container/Container';\r\nimport io from 'socket.io-client';\r\n\r\n\r\nclass Lobby extends React.Component {\r\n\r\n    // socket = io.connect(\"https://realtime-interactive-board.herokuapp.com/\", {secure: true});\r\n    socket = io.connect(\"http://localhost:3333/\", { secure: true });\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = { displayname: '', room: '' , showNew: true};\r\n\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n        this.socket.on('connect', () => {\r\n        });\r\n    }\r\n    \r\n    static getSocket(){\r\n        return this.socket;\r\n    }\r\n\r\n    handleChange(event) {\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const key = target.name;\r\n        this.setState({\r\n            [key]: value,\r\n        });\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        let roomID = this.state.room ;\r\n        let name = this.state.displayname;\r\n        if (!roomID) {\r\n            roomID = niceware.generatePassphrase(4).join('-');\r\n        }\r\n        if (!name) {\r\n            name =  niceware.generatePassphrase(2).join('-');\r\n        }\r\n\r\n        this.setState({room: roomID,  displayname: name, showNew: false }, ()=>this.socket.emit(\"join-room\", { username: this.state.displayname, roomName: this.state.room }))\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"parent\">\r\n                <div id=\"map\">\r\n                    {this.state.showNew ? (\r\n                        <div id=\"controls\" className=\"card card-body d-flew flex-col align-items-center\">\r\n                            <h4>Create / Join a Room</h4>\r\n                            <div className=\"input-group mb-3\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text\">Display Name</span>\r\n                                </div>\r\n                                <input name=\"displayname\" type=\"text\" className=\"form-control\" value={this.state.displayname} onChange={this.handleChange}\r\n                                     />\r\n                            </div>\r\n                            <div className=\"input-group mb-3\">\r\n                                <div className=\"input-group-prepend\">\r\n                                    <span className=\"input-group-text\">Room ID</span>\r\n                                </div>\r\n                                <input name=\"room\" type=\"text\" className=\"form-control\" value={this.state.room} onChange={this.handleChange}\r\n                                    placeholder=\"Leave empty to create room\" />\r\n                            </div>\r\n                            <div className=\"d-flex flex-row\">\r\n                                <button onClick={this.handleSubmit} type=\"button\" className=\"btn btn-primary btn-lg mx-2\">\r\n                                    Create / Join Room</button>\r\n                            </div>\r\n                        </div>)\r\n                        : (<div id=\"roomInfo\"><span className=\"input-group-text\">Room ID: {this.state.room}</span></div>) }\r\n                        <Container ref={(ref) => this.container = ref} socket={this.socket} />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Lobby\r\n"]},"metadata":{},"sourceType":"module"}